{"version":3,"sources":["webpack:///webpack/bootstrap a9beb44e75da57e4ab14","webpack:///./src/js/utils.js","webpack:///./src/js/main.js","webpack:///./src/js/index-tree.js","webpack:///./src/js/seelect.js"],"names":["Utils","iterateNoteList","nodeList","fn","i","length","node","hasClass","el","cls","className","match","RegExp","addClass","removeClass","reg","replace","toggleClass","App","document","addEventListener","init","console","log","utils","VK","apiId","showLogin","querySelector","evt","Auth","login","afterLogin","style","display","querySelectorAll","config","element","uniqueKey","debug","id","onNotFound","fetchData","seelect","ts","dataLockToken","setTimeout","api","inputValue","data","parsedData","response","vkUserSearchData","push","value","uid","label","first_name","last_name","text","setData","IndexTree","tree","dictionary","buildResults","cont","createElement","innerText","setAttribute","appendChild","_GOSTCyr2Lat","char","result","cyr","lat","indexOfCyrChar","indexOf","toUpperCase","indexOfLatChar","_wrongKeyboard","wrongCyr","wrongCyrCaps","wrongLat","index","getIndices","string","stringAsArray","split","getIndicesFor","depth","subtree","sproutCode","hasOwnProperty","indices","indices2","composedIndices","concat","_buildIndexTree","attachSprout","branch","sprout","code","getSproutCodes","sproutCodes","terms","j","arrayOfChars","subTree","k","Seelect","selectElement","settings","selected","selectValue","_generateId","_setup","_collectData","_buildDOMElements","disableAutocomplete","_enableAutocomplete","_attachEvents","window","__SEELECT_INITED","e","error","getSelectedValues","select","isMultiselect","filter","obj","_updateSelected","dropdownElement","ele","deselect","resultsEl","indexTree","_buildResults","_setPlaceholderVisibilty","placeholderElement","hasAttribute","useIcons","opt","getAttribute","textContent","icon","prefix","postfix","visibility","lastChild","removeChild","backgroundImage","_autocomplete","parentNode","lis","getElementsByTagName","input","target","Date","now","containerElement","seelectsList","inputElement","focus","stopPropagation","tagName","isValueSelected","selectedElement","placeholder","debugElement","innerHTML","JSON","stringify","undefined","insertBefore","selectedValuesDiv","map"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a9beb44e75da57e4ab14","class Utils {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    // use this method instead of es6 [...nodeList].forEach\r\n    // which requires polyfill for IE\r\n    iterateNoteList(nodeList, fn) {\r\n        for(let i = 0; i < nodeList.length; i++) {\r\n            const node = nodeList[i];\r\n            fn(node, i);\r\n        }\r\n    }\r\n\r\n    hasClass(el,cls) {\r\n        return !!el.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\r\n    }\r\n\r\n    addClass(el,cls) {\r\n        if (!this.hasClass(el,cls)) el.className += \" \"+cls;\r\n    }\r\n\r\n    removeClass(el,cls) {\r\n        if (this.hasClass(el,cls)) {\r\n            let reg = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\r\n            el.className=el.className.replace(reg,' ');\r\n        }\r\n    }\r\n    toggleClass(el, cls) {\r\n        if(this.hasClass(el, cls)) {\r\n            this.removeClass(el, cls);\r\n        } else {\r\n            this.addClass(el, cls);\r\n        }\r\n    }\r\n}\r\n\r\nexport default new Utils();\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils.js","import Seelect from './seelect';\r\nimport Utils from './utils'\r\n\r\nclass App {\r\n    constructor() {\r\n        document.addEventListener(\"DOMContentLoaded\", this.init());\r\n    }\r\n\r\n\r\n    init() {\r\n        console.log('Seelect demo app start');\r\n\r\n        this.utils = Utils;\r\n\r\n        VK.init({apiId: 6057159});\r\n\r\n        this.showLogin();\r\n\r\n        document.querySelector('#login').addEventListener('click', (evt) => {\r\n\r\n            VK.Auth.login(() => {\r\n                this.afterLogin();\r\n            })\r\n        })\r\n    }\r\n\r\n    showLogin() {\r\n        document.querySelector('#login').style.display = 'block';\r\n    }\r\n\r\n    afterLogin() {\r\n        document.querySelector('#login').style.display = 'none';\r\n        document.querySelector('#seelects').style.display = 'block';\r\n\r\n        this.utils.iterateNoteList(document.querySelectorAll('.seelect'), (el, i) => {\r\n            const config = {element: el, uniqueKey: i, debug: true};\r\n\r\n            if(el.id == 'withVKSearch') { // set vk search for specific seelect\r\n                config.onNotFound = this.fetchData;\r\n            }\r\n\r\n            new Seelect(config);\r\n        });\r\n    }\r\n\r\n    fetchData(seelect, ts) {\r\n        seelect.dataLockToken = ts;\r\n\r\n        setTimeout(() => { //cleaning lock token\r\n            if(seelect.dataLockToken === ts) {\r\n                console.log(`Oops! Data fetching timeout for token ${seelect.dataLockToken}`);\r\n                delete seelect.dataLockToken;\r\n            }\r\n        }, 30000);\r\n\r\n        VK.api(\"friends.search\", {\"q\": seelect.inputValue}, (data) => {\r\n            let parsedData = [];\r\n            if(data.response) {\r\n                for(let i = 1; i < data.response.length; i++) {\r\n                    const vkUserSearchData = data.response[i];\r\n                    parsedData.push({\r\n                        value: vkUserSearchData.uid,\r\n                        label: `${vkUserSearchData.first_name} ${vkUserSearchData.last_name}`,\r\n                        text: `${vkUserSearchData.first_name} ${vkUserSearchData.last_name}`,\r\n                    })\r\n                }\r\n            }\r\n\r\n            seelect.setData(parsedData, ts);\r\n        });\r\n    }\r\n}\r\n\r\nexport default new App()\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","export default class IndexTree {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.tree = {};\r\n\r\n        this.dictionary = [\r\n            ['A', 'Б', 'В', 'Г', 'Д', 'Е', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я'],\r\n            ['А', 'B', 'V', 'G', 'D', 'E', 'ZH', 'Z', 'I', 'I', 'K', 'L', 'M', 'N', 'O', 'P', 'R', 'S', 'T', 'U', 'F', 'KH', 'TS', 'CH', 'SH', 'SHCH', 'IE', 'Y', 'Ь', 'E', 'IU', 'IA'],\r\n            ['f', ',', 'd', 'u', 'l', 't', ';', 'p', 'b', 'q', 'r', 'k', 'v', 'y', 'j', 'g', 'h', 'c', 'n', 'e', 'a', '[', 'w', 'x', 'i', 'o', ']', 's', 'm', '\\'', '.', 'z'],\r\n            ['F', '<', 'D', 'U', 'L', 'T', ':', 'P', 'B', 'Q', 'R', 'K', 'V', 'Y', 'J', 'G', 'H', 'C', 'N', 'E', 'A', '{', 'W', 'X', 'I', 'O', '}', 'S', 'M', '\\\"', '>', 'Z'],\r\n            ['Ф', 'И', 'М', 'П', 'В', 'У', 'ЯР', 'Я', 'Ш', 'Ш', 'Л', 'Д', 'Ь', 'Т', 'Щ', 'З', 'К', 'Ы', 'Е', 'Г', 'А', 'ЛР', 'ЕЫ', 'СР', 'ЫР', 'ЫРСР', 'ШЕ', 'Н', 'Ь', 'У', 'ШГ', 'ШФ'],\r\n        ]\r\n        \r\n        this.init();\r\n    }\r\n\r\n    buildResults() {\r\n        let cont = document.querySelector(\"#result\");\r\n\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            const data = this.data[i];\r\n            let el = document.createElement('div');\r\n            el.innerText = data.text;\r\n            el.setAttribute('data-value', data.value);\r\n            cont.appendChild(el);\r\n        }\r\n    }\r\n\r\n    _GOSTCyr2Lat(char) {\r\n        let result = null;\r\n        if(!char) {\r\n            return null;\r\n        }\r\n\r\n        const cyr = ['A', 'Б', 'В', 'Г', 'Д', 'Е', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я'];\r\n        const lat = ['А', 'B', 'V', 'G', 'D', 'E', 'ZH', 'Z', 'I', 'I', 'K', 'L', 'M', 'N', 'O', 'P', 'R', 'S', 'T', 'U', 'F', 'KH', 'TS', 'CH', 'SH', 'SHCH', 'IE', 'Y', 'Ь', 'E', 'IU', 'IA'];\r\n\r\n        const indexOfCyrChar = cyr.indexOf(char.toUpperCase());\r\n        const indexOfLatChar = lat.indexOf(char.toUpperCase());\r\n\r\n        if (indexOfCyrChar >= 0) {\r\n            result = lat[indexOfCyrChar];\r\n        } else if (indexOfLatChar >= 0) {\r\n            result = lat[indexOfLatChar]\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    _wrongKeyboard(char) {\r\n        let result = null;\r\n        if(!char) {\r\n            return null;\r\n        }\r\n\r\n        const wrongCyr = ['f',',','d','u','l','t',';','p','b','q','r','k','v','y','j','g','h','c','n','e','a','[','w','x','i','o',']','s','m','\\'','.','z'];\r\n        const wrongCyrCaps = ['F','<','D','U','L','T',':','P','B','Q','R','K','V','Y','J','G','H','C','N','E','A','{','W','X','I','O','}','S','M','\\\"','>','Z'];\r\n        const wrongLat = ['Ф', 'И', 'М', 'П', 'В', 'У', 'ЯР', 'Я', 'Ш', 'Ш', 'Л', 'Д', 'Ь', 'Т', 'Щ', 'З', 'К', 'Ы', 'Е', 'Г', 'А', 'ЛР', 'ЕЫ', 'СР', 'ЫР', 'ЫРСР', 'ШЕ', 'Н', 'Ь', 'У', 'ШГ', 'ШФ'];\r\n        const lat = ['А', 'B', 'V', 'G', 'D', 'E', 'ZH', 'Z', 'I', 'I', 'K', 'L', 'M', 'N', 'O', 'P', 'R', 'S', 'T', 'U', 'F', 'KH', 'TS', 'CH', 'SH', 'SHCH', 'IE', 'Y', 'Ь', 'E', 'IU', 'IA'];\r\n        const cyr = ['A', 'Б', 'В', 'Г', 'Д', 'Е', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я'];\r\n\r\n        let index = -1;\r\n        index = wrongCyr.indexOf(char);\r\n        if(index < 0) {\r\n            index = wrongCyrCaps.indexOf(char);\r\n            if(index < 0) {\r\n                index = wrongLat.indexOf(char.toUpperCase());\r\n            }\r\n        }\r\n\r\n        if(index >= 0) {\r\n            result = lat[index];\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    getIndices(string) {\r\n        let stringAsArray = string.split(''); //todo: fix for different cases\r\n        const tree = this.tree;\r\n        function getIndicesFor(fn) {\r\n            let depth = 0;\r\n            let subtree = tree;\r\n            while(depth < stringAsArray.length) {\r\n                const sproutCode = fn(stringAsArray[depth]);\r\n                if(subtree.hasOwnProperty(sproutCode)) {\r\n                    subtree = subtree[sproutCode];\r\n                    depth++;\r\n                } else {\r\n                    return [];\r\n                }\r\n            }\r\n\r\n            return subtree.indices;\r\n        }\r\n\r\n        const indices = getIndicesFor(this._GOSTCyr2Lat);\r\n        const indices2 = getIndicesFor(this._wrongKeyboard);\r\n\r\n        const composedIndices = indices.concat(indices2);\r\n        return composedIndices;\r\n\r\n    }\r\n\r\n    _buildIndexTree() {\r\n        let tree = {};\r\n        function attachSprout(branch, sprout) { // sprout: {code: int, index: int}\r\n            if (!branch.hasOwnProperty(sprout.code)) {\r\n                branch[sprout.code] = {\r\n                    indices: [sprout.index]\r\n                }\r\n            }\r\n            else if (branch[sprout.code].indices.indexOf(sprout.index) < 0) {\r\n                branch[sprout.code].indices.push(sprout.index);\r\n            }\r\n            return branch[sprout.code];\r\n        }\r\n\r\n        function getSproutCodes() {\r\n            const wrongCyr = ['f',',','d','u','l','t',';','p','b','q','r','k','v','y','j','g','h','c','n','e','a','[','w','x','i','o',']','s','m','\\'','.','z'];\r\n            const wrongCyrCaps = ['F','<','D','U','L','T',':','P','B','Q','R','K','V','Y','J','G','H','C','N','E','A','{','W','X','I','O','}','S','M','\\\"','>','Z'];\r\n            const wrongLat = ['Ф', 'И', 'М', 'П', 'В', 'У', 'ЯР', 'Я', 'Ш', 'Ш', 'Л', 'Д', 'Ь', 'Т', 'Щ', 'З', 'К', 'Ы', 'Е', 'Г', 'А', 'ЛР', 'ЕЫ', 'СР', 'ЫР', 'ЫРСР', 'ШЕ', 'Н', 'Ь', 'У', 'ШГ', 'ШФ'];\r\n            const lat = ['А', 'B', 'V', 'G', 'D', 'E', 'ZH', 'Z', 'I', 'I', 'K', 'L', 'M', 'N', 'O', 'P', 'R', 'S', 'T', 'U', 'F', 'KH', 'TS', 'CH', 'SH', 'SHCH', 'IE', 'Y', 'Ь', 'E', 'IU', 'IA'];\r\n            const cyr = ['A', 'Б', 'В', 'Г', 'Д', 'Е', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я'];\r\n\r\n            let sproutCodes = [];\r\n\r\n        }\r\n\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            const terms = this.data[i].text.split(' ');\r\n            for (let j = 0; j < terms.length; j++) {\r\n                let arrayOfChars = terms[j].split('');\r\n                let subTree = tree;\r\n                for (let k = 0; k < arrayOfChars.length; k++) {\r\n                    const code = this._GOSTCyr2Lat(terms[j][k]);\r\n                    subTree = attachSprout(subTree, {code: code, index: i});\r\n                }\r\n            }\r\n        }\r\n        this.tree = tree;\r\n    }\r\n\r\n    init() {\r\n        this._buildIndexTree();\r\n    }\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index-tree.js","import IndexTree from './index-tree'\r\nimport Utils from './utils'\r\n\r\nexport default class Seelect {\r\n    constructor(config) {\r\n        this.utils = Utils;\r\n        this.config = config; // let config overrides atributes\r\n        this.selectElement = config.element;\r\n        this.selectElement.style.display = 'none';\r\n\r\n        this.id = 'seelect-container';\r\n\r\n        this.data = [];\r\n        this.settings = {};\r\n\r\n        this.inputValue = '';\r\n        this.selected = [];\r\n\r\n        this.dictionary = { //todo: make this configurable, would be useful for i18n or other cases\r\n            selectValue: 'Выберите значение'\r\n        }\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        try {\r\n            this._generateId();\r\n            this._setup();\r\n            this._collectData();\r\n            this._buildDOMElements();\r\n            if(!this.settings.disableAutocomplete) {\r\n                this._enableAutocomplete();\r\n            }\r\n            this._attachEvents();\r\n            window.__SEELECT_INITED = true;\r\n        }\r\n        catch(e) {\r\n            console.error(e);\r\n            console.log('Error initializing Seelect!');\r\n        }\r\n    }\r\n\r\n    getSelectedValues() {\r\n        return this.selected;\r\n    }\r\n\r\n    select(value, el) {\r\n        if(this.settings.isMultiselect) {\r\n            if(!this.selected.filter((obj) => { return obj.value == value;}).length) {\r\n                this.selected.push(this.data.filter((obj) => { return obj.value == value;})[0]);\r\n                this._updateSelected();\r\n                this.utils.addClass(el, 'selected');\r\n            }\r\n        } else {\r\n            this.selected = this.data.filter((obj) => { return obj.value == value;});\r\n            this._updateSelected();\r\n            this.utils.iterateNoteList(this.dropdownElement.querySelectorAll('li'),(ele)=> {this.utils.removeClass(ele, 'selected'); })\r\n            this.utils.addClass(el, 'selected');\r\n        }\r\n    }\r\n\r\n    deselect(value) {\r\n        this.selected = this.selected.filter((obj) => { return obj.value != value; });\r\n        this._updateSelected();\r\n        let resultsEl = this.dropdownElement.querySelector('li[data-value=\"' + value + '\"]');\r\n        this.utils.removeClass(resultsEl, 'selected');\r\n    }\r\n\r\n    setData(data, ts) { //ts - optional parameter, for dirty async operations, updating data\r\n        if(this.dataLockToken && ts && ts !== this.dataLockToken)\r\n            return false;\r\n\r\n        this.data = data;\r\n        this.indexTree = new IndexTree(this.data);\r\n        this._buildResults();\r\n        if(ts) {\r\n            delete this.dataLockToken;\r\n        }\r\n    }\r\n\r\n    _setPlaceholderVisibilty() {\r\n        if(this.selected.length) {\r\n            this.placeholderElement.style.display = 'none';\r\n        }\r\n        else {\r\n            this.placeholderElement.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    _setup() {\r\n        this.settings.debug = !!this.config.debug;\r\n        this.settings.isMultiselect = this.config.hasOwnProperty('isMultiselect') ? this.config.isMultiselect : this.selectElement.hasAttribute('multiple');\r\n        this.settings.disableAutocomplete = this.config.hasOwnProperty('disableAutocomplete') ? this.config.disableAutocomplete : this.selectElement.hasAttribute('data-disable-autocomplete');\r\n        this.settings.useIcons = this.config.hasOwnProperty('useIcons') ? this.config.useIcons : this.selectElement.hasAttribute('data-use-icons');\r\n        if(this.config.onNotFound) {\r\n            this.settings.onNotFound = this.config.onNotFound;\r\n        }\r\n    }\r\n\r\n    _collectData() {\r\n        this.data = [];\r\n        this.utils.iterateNoteList(this.selectElement.querySelectorAll('option'), (opt) => {\r\n            const el = {\r\n                value: opt.getAttribute('value'),\r\n                label: opt.getAttribute('label') || opt.textContent,\r\n                text: opt.textContent\r\n            };\r\n\r\n            if(this.settings.useIcons) {\r\n                el.icon = opt.getAttribute('data-icon');\r\n            }\r\n\r\n            this.data.push(el);\r\n        });\r\n\r\n        // building tree of indices for data\r\n        this.indexTree = new IndexTree(this.data);\r\n\r\n        if(this.settings.debug) {\r\n            console.log(this.indexTree);\r\n        }\r\n    }\r\n\r\n    /*\r\n    Generating unique id\r\n     */\r\n    _generateId() {\r\n        const prefix = 'seelect-';\r\n        const postfix = this.config.uniqueKey; //todo\r\n        this.id = prefix + 'container-' + postfix;\r\n    }\r\n\r\n    _buildResults() {\r\n        this.dropdownElement.style.visibility = 'hidden';\r\n        while(this.dropdownElement.lastChild) {\r\n            this.dropdownElement.removeChild(this.dropdownElement.lastChild);\r\n        }\r\n\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            const data = this.data[i];\r\n            let el = document.createElement('li');\r\n            el.innerText = data.text;\r\n            el.setAttribute('data-value', data.value);\r\n\r\n            if(this.settings.useIcons) {\r\n                el.style.backgroundImage = `url(${data.icon})`;\r\n                this.utils.addClass(el, 'with-icon');\r\n            }\r\n\r\n            this.dropdownElement.appendChild(el);\r\n        }\r\n\r\n        if(this.data.length !== 0) {\r\n            this.dropdownElement.style.visibility = 'visible';\r\n        }\r\n        this._setPlaceholderVisibilty();\r\n    }\r\n\r\n    _autocomplete() {\r\n        let cont = this.selectElement.parentNode.querySelector('.seelect-container .seelect-dd');\r\n        let lis = cont.getElementsByTagName('li');\r\n        for(let i = 0; i < lis.length; i++) {\r\n            if(this.indices.indexOf(i) >= 0 || !this.indices.length) {\r\n                lis[i].style.display = 'block';\r\n            } else {\r\n                lis[i].style.display = 'none';\r\n            }\r\n        }\r\n    }\r\n\r\n    _enableAutocomplete() {\r\n        let input = this.selectElement.parentNode.querySelector('.seelect-container .seelect-input');\r\n\r\n        input.addEventListener('keyup', (evt) => {\r\n\r\n            if(evt.target.value === this.input) {\r\n                return false; // not changed\r\n            }\r\n\r\n            this.inputValue = evt.target.value;\r\n            if(this.inputValue === '') {\r\n                this.indices = [];\r\n            } else {\r\n                this.indices = this.indexTree.getIndices(this.inputValue);\r\n            }\r\n\r\n            this._autocomplete();\r\n\r\n            if(this.settings.onNotFound && this.inputValue !== '' && this.indices.length === 0) {\r\n                let ts = Date.now(); //todo: change on Promise, and cancel promise on new search request\r\n                this.settings.onNotFound(this, ts);\r\n            }\r\n        })\r\n    }\r\n\r\n    _attachEvents() {\r\n        this.containerElement.addEventListener('click', (evt) => {\r\n\r\n            if(window.__SEELECT_INITED) {\r\n                let seelectsList = document.querySelectorAll('.seelect-container');\r\n                this.utils.iterateNoteList(seelectsList, (el) => {\r\n                    if(el !== this.containerElement) {\r\n                        this.utils.removeClass(el, 'active');\r\n                    }\r\n                })\r\n            }\r\n\r\n            this.utils.toggleClass(this.containerElement, 'active');\r\n            if(!this.settings.disableAutocomplete) {\r\n                this.inputElement.focus();\r\n            }\r\n        });\r\n\r\n        if(!this.settings.disableAutocomplete) {\r\n            this.inputElement.addEventListener('click', (evt) => {\r\n                evt.stopPropagation();\r\n            });\r\n        }\r\n\r\n        this.dropdownElement.addEventListener('click', (evt) => {\r\n            if(evt.target.tagName === 'LI') {\r\n                let value = evt.target.getAttribute('data-value');\r\n                if(this.isValueSelected(value))  {\r\n                    this.deselect(value);\r\n                } else {\r\n                    this.select(value, evt.target);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.selectedElement.addEventListener('click', (evt) => {\r\n\r\n            const value = evt.target.getAttribute('data-value');\r\n            if(value) {\r\n                evt.stopPropagation();\r\n                this.deselect(value)\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    isValueSelected(value) {\r\n        return !!this.selected.filter((obj) => { return obj.value == value }).length;\r\n    }\r\n\r\n    /*\r\n     Building new DOM for selects\r\n     */\r\n    _buildDOMElements() {\r\n        let containerElement = document.createElement('div');\r\n        containerElement.id = this.id;\r\n        containerElement.className = 'seelect-container';\r\n        this.containerElement = containerElement;\r\n\r\n        let selectedElement = document.createElement('div');\r\n        selectedElement.className = 'seelect-selected';\r\n        containerElement.appendChild(selectedElement);\r\n        this.selectedElement = selectedElement;\r\n\r\n        let placeholder = document.createElement('span');\r\n        placeholder.className = 'seelect-placeholder';\r\n        placeholder.innerText = this.dictionary.selectValue;\r\n        this.placeholderElement = placeholder;\r\n        this.selectedElement.appendChild(this.placeholderElement);\r\n\r\n        this.selectedElement.appendChild(document.createElement('div'));\r\n\r\n        if(!this.settings.disableAutocomplete) {\r\n            let inputElement = document.createElement('input');\r\n            inputElement.className = 'seelect-input';\r\n            containerElement.appendChild(inputElement);\r\n            this.inputElement = inputElement;\r\n        }\r\n\r\n\r\n        let dropdownElement = document.createElement('ul');\r\n        dropdownElement.className = 'seelect-dd';\r\n        this.dropdownElement = dropdownElement;\r\n        containerElement.appendChild(dropdownElement);\r\n\r\n        this._buildResults();\r\n\r\n        if(this.settings.debug) {\r\n            let debugElement = document.createElement('pre');\r\n            debugElement.innerHTML = JSON.stringify(this.settings, undefined, 2);\r\n            this.debugElement = debugElement;\r\n            this.selectElement.parentNode.insertBefore(debugElement, this.selectElement);\r\n        }\r\n        this.selectElement.parentNode.insertBefore(containerElement, this.selectElement);\r\n\r\n    }\r\n\r\n    _updateSelected() {\r\n        let cont = document.createElement('div');\r\n        const selectedValuesDiv = this.selectedElement.querySelector('div');\r\n        this.selectedElement.removeChild(selectedValuesDiv)\r\n\r\n        this.selected.map((data) => {\r\n            let el = document.createElement('div');\r\n            el.innerText = data.text;\r\n            el.setAttribute('data-value', data.value);\r\n            el.className = 'seelected-item';\r\n            cont.appendChild(el);\r\n        })\r\n\r\n        this._setPlaceholderVisibilty();\r\n\r\n        this.selectedElement.appendChild(cont);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/seelect.js"],"sourceRoot":""}